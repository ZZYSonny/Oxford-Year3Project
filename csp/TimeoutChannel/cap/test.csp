include "correct.csp"
include "lin.csp"

System1 = runWith(True,True,
  sendWithin(T1,A,1) |||
  receiveWithin(T2,1)
)
assert Linearizers({T1,T2}) [T= System1

System2 = runWith(True,True,
  runP(sendWithin(T1,A,1)) |||
  runP(receiveWithin(T2,1))
)
assert Linearizers({T1,T2}) [T= System2


System3 = runWith(False,False,
  sendWithin(T1,A,1) |||
  receiveWithin(T2,1)
)
